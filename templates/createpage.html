{% extends 'base.html' %}

{% block body %}

<h3 class="text-center text-primary"><i class="fas fa-plus "></i> Lançamentos </h3>  

<div class="container">
  <form class="row g-3" action='' method="POST">
    <div class="col-md-6">
      <label for="inputData" class="form-label">Data:</label>
      <input type="date" name="data" class="form-control" id="inputData" required>
    </div>
    <div class="col-md-6">
      <label for="inputTipoDespesa" class="form-label">Tipo:</label>
      <select name="tipo_despesa" class="form-control" id="inputTipoDespesa" required>
        <option value="despesa">Despesa</option>
        <option value="credito">Crédito</option>
      </select>
    </div>
    <div class="col-12">
      <label for="inputDescricao" class="form-label">Descrição:</label>
      <input type="text" name="descricao" class="form-control" id="inputDescricao" required>
    </div>
    <div class="col-12">
      <label for="inputCategoria" class="form-label">Categoria:</label>
      <select name="categoria" class="form-control" id="inputCategoria" required>
        {% for categoria in categorias %}
        <option value="{{ categoria }}">{{ categoria }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-6">
      <label for="inputValor" class="form-label">Valor:</label>
      <input type="number" step="0.01" name="valor" class="form-control" id="inputValor" required>
    </div>
    <div class="col-md-6">
      <label class="form-label">Usuário:</label>
      <div class="form-check ">
        <input class="form-check-input" type="radio" name="usuario" id="usuario-mara" value="Mara" required>
        <label class="form-check-label" for="usuario-mara">Mara</label>
      </div>
      <div class="form-check ">
        <input class="form-check-input" type="radio" name="usuario" id="usuario-leandro" value="Leandro" required>
        <label class="form-check-label" for="usuario-leandro">Leandro</label>
      </div>
    </div>
    <div class="col-12">
      <label class="form-label">Pagamento:</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="pagamento" id="pagamento-credito" value="credito" required>
        <label class="form-check-label" for="pagamento-credito">Crédito</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="pagamento" id="pagamento-debito" value="debito" required>
        <label class="form-check-label" for="pagamento-debito">Débito</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="pagamento" id="pagamento-dinheiro" value="dinheiro" required>
        <label class="form-check-label" for="pagamento-dinheiro">Dinheiro</label>
      </div>
    </div>
    <div class="col-12" id="parcelaField" style="display: none;">
      <label for="inputParcela" class="form-label">Parcela:</label>
      <input type="number" name="parcela" class="form-control" id="inputParcela" value="1">
    </div>
    <div class="col-12">
      <div class="text-right">
        <input type="submit" name="submit" value="Enviar" class="btn btn-warning">
        <button type="reset" class="btn btn-secondary">Limpar</button>
      </div>
    </div>
  </form>
</div>

<script>
    var pagamentoCredito = document.getElementById("pagamento-credito");
    var campoParcela = document.getElementById("parcelaField");

    pagamentoCredito.addEventListener("change", function() {
        if (pagamentoCredito.checked) {
            campoParcela.style.display = "block";
        } else {
            campoParcela.style.display = "none";
        }
        });

</script>
{% endblock %}
